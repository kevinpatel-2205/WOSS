<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Light</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="flex items-center justify-center min-h-screen">
    <div class="light" id="l1"></div>
    <div class="light" id="l2"></div>
    <div class="light" id="l3"></div>
    <div class="light" id="l4"></div>
    <style>
      .light {
        width: 100px;
        height: 50px;
        border-radius: 5px;
        background-color: #374151;
        margin-left: 35px;
      }
    </style>
    <script>
      const lights = [
        document.getElementById("l1"),
        document.getElementById("l2"),
        document.getElementById("l3"),
        document.getElementById("l4"),
      ];

      let current = 0;
      function switchSignal(from, to) {
        from.style.backgroundColor = "yellow";

        setTimeout(() => {
          from.style.backgroundColor = "red";
          to.style.backgroundColor = "green";
        }, 2000);
      }

      function signal() {
        lights.forEach((light) => (light.style.backgroundColor = "red"));

        lights[0].style.backgroundColor = "green";

        setInterval(() => {
          const next = (current + 1) % lights.length;
          switchSignal(lights[current], lights[next]);
          current = next;
        }, 5000);
      }

      signal();
    </script>
  </body>
</html>
